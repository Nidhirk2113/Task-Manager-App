<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Task Manager — Local</title>
  <link rel="stylesheet" href="css/style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <meta name="description" content="Interactive Task Manager with localStorage and progress visualization.">
</head>
<body>
  <div class="app">
    <header class="app-header">
      <h1>Task Manager</h1>
      <p class="tagline">Add, edit, complete, delete — visualize progress. Local-only, privacy-friendly.</p>
    </header>

    <main class="container">
      <section class="task-entry card">
        <form id="taskForm" class="task-form" autocomplete="off">
          <input id="taskInput" name="task" type="text" placeholder="Add a new task..." aria-label="Task title" required>
          <select id="prioritySelect" aria-label="Priority">
            <option value="medium" selected>Medium priority</option>
            <option value="high">High priority</option>
            <option value="low">Low priority</option>
          </select>
          <button id="addTaskBtn" type="submit">Add</button>
        </form>

        <div class="filters">
          <div class="filter-buttons" role="tablist" aria-label="Filter tasks">
            <button class="filter-btn active" data-filter="all">All</button>
            <button class="filter-btn" data-filter="pending">Pending</button>
            <button class="filter-btn" data-filter="completed">Completed</button>
          </div>

          <div class="controls">
            <label class="sort-label">Sort:</label>
            <select id="sortSelect" aria-label="Sort tasks">
              <option value="newest">Newest</option>
              <option value="oldest">Oldest</option>
              <option value="alpha">A → Z</option>
              <option value="priority">Priority</option>
            </select>
            <button id="clearAllBtn" class="danger" title="Delete all tasks">Clear All</button>
          </div>
        </div>
      </section>

      <section class="dashboard">
        <section class="tasks-list card" aria-live="polite">
          <h2>Tasks</h2>
          <ul id="taskList" class="task-list"></ul>
          <div id="emptyState" class="empty-state">No tasks yet — add one to get started.</div>
        </section>

        <aside class="analytics card">
          <h2>Progress</h2>

          <div class="progress-bar-wrap" aria-hidden="false">
            <div class="progress-info">
              <span id="completedCount">0</span> / <span id="totalCount">0</span> completed
            </div>
            <div class="progress">
              <div id="progressFill" class="progress-fill" style="width: 0%;"></div>
            </div>
          </div>

          <div class="chart-wrap">
            <canvas id="progressChart" aria-label="Task completion chart" role="img"></canvas>
          </div>

          <div class="quick-stats">
            <div>Pending: <span id="pendingCount">0</span></div>
            <div>High priority: <span id="highCount">0</span></div>
            <div>Low priority: <span id="lowCount">0</span></div>
          </div>
        </aside>
      </section>
    </main>

    <footer class="app-footer">
      <small>Local-only demo • Deployed on Vercel: simple, fast, private. © Task Manager</small>
    </footer>
  </div>

  <script src="js/storage.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
